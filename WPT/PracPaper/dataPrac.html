<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dataPrac</title>
</head>
<body>
    <label for="firstname">First name</label>
    <input type="text" id="firstname">
    <label for="lastname">Last name</label>
    <input type="text" id="lastname">
    <label for="marks">Marks</label>
    <input type="text" id="marks">

    <button onclick="addstudent()">Add Student</button>
    <button onclick="downloadData()">Download Data</button>
    <div id="display"></div>
    <p id="msg"></p>
</body>

<script>
    // let students = [];

    function addstudent() {
        let fname = document.getElementById('firstname').value;
        let lname = document.getElementById('lastname').value;
        let marks = document.getElementById('marks').value;

        if (fname === '' || lname === '' || marks === '') {
            document.getElementById('msg').innerText = "All fields are required";
            return;
        }

        

        document.getElementById('msg').innerText = ""; // Clear error message

        // Add new student to the array
        students.push({
            firstname: fname,
            lastname: lname,
            marks: parseInt(marks)
        });

        displayStudentData();
    }

    function displayStudentData() {
        const dis = document.getElementById('display');
        dis.innerHTML = students.map((student) => 
            `<p>. First Name: ${stud.firstname}, Last Name: ${stud.lastname}, Marks: ${stud.marks}</p>`
        ).join('');
    }

    function downloadData() {
        const data = JSON.stringify(students, null, 2);
        const blob = new Blob([data], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'students.txt';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    }

    // Display initial data (empty)
    displayStudentData();
</script>
</html>